/* Global Styles */

// Define fonts
@import url('https://fonts.googleapis.com/css?family=Poppins:400,700&display=swap');
@import url('https://fonts.googleapis.com/css?family=Economica:400,700&display=swap');
@import url('https://cdn.jsdelivr.net/npm/@fontsource/jetbrains-mono@3.2.1/css/jetbrains-mono.css');

// Define colors variables
$color-primary: #231815;
$color-secondary: #d35d39;
$color-background: #f8f9fa;
$color-text: #38352d;

// Define day and night theme colors
$day-theme-colors: (
        primary: $color-primary,
        secondary: $color-secondary,
        background: $color-background,
        text: $color-text
);

$night-theme-colors: (
        primary: #21222c,
        secondary: #ff79c6,
        background: #282a36,
        text: #f8f8f2
);

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', sans-serif;
  color: $color-text;
  background-color: $color-background;
}

h1 {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 1rem;
}

h2 {
  grid-row: 1; /* Position the heading in the first row */
  font-size: 1.5rem;
  margin-bottom: 1rem;
}

input[type="text"] {
  padding: 0.5rem;
  border-radius: 0.25rem;
  border: none;
  font-family: 'JetBrains Mono Light', monospace;
  font-size: 1.1rem;
  color: $color-text;
}

button[type="submit"] {
  background-color: $color-secondary;
  color: white;
  border-radius: 0.25rem;
  padding: 0.5rem 1rem;
  font-size: 1.1rem;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;

  &:hover {
    background-color: darken($color-secondary, 5%);
  }
}

form {
  grid-row: 3; /* Position the message form in the third row */
  display: grid;
  grid-template-columns: auto 1fr auto; /* Define the columns for the message form */
  grid-gap: 0.5rem;
  align-items: center;
}

label {
  font-size: 1.1rem;
}


/* IDs */

#chatHistory {
  grid-row: 2; /* Position the chat history in the second row */
  list-style: none;
  margin-top: 1rem;
  max-height: calc(100vh - (4rem + .5rem));
  overflow-y: auto;

  li {
    margin-bottom: .5rem;
    padding: .5rem;
    border-radius: .25rem;
    background-color: #f5f5f5;

    font-family: 'Economica', sans-serif;
    font-weight: bold ;
    font-size :1.2em;

    display:inline-block;

    &:nth-child(even) {
      background-color:#e0e0e0 ;
      $day-theme-colors: (
              primary: #231815,
              secondary: #d35d39,
              background: #f8f9fa,
              text: #38352d
      );
    }

    &:last-child {
      margin-bottom:0 ;
    }
  }
}

#chatHistory li {
  color: map-get($night-theme-colors, text);
  background-color: map-get($night-theme-colors, primary) !important;

  &:nth-child(even) {
    background-color: map-get($day-theme-colors, background);
    $day-theme-colors: (
            primary: #231815,
            secondary: #d35d39,
            background: #f8f9fa,
            text: #38352d
    );
  }

  &:last-child {
    margin-bottom: 0;
  }
}

#chatContainer {
  display: flex;
  flex-direction: column;
  justify-content: space-between;

  height: calc(100vh - 4rem);
  background-color: $color-background;

  .animation-container {
    position: relative;
    overflow: hidden;
    height: 100%;
    width: 100%;

    &:before {
      content: "";
      display: none;
    }

    &.night {
      &:after {
        content: "";
        display: block;
        position: absolute;
        top: 50%;
        left: -100px;
        transform: translateY(-50%);
        width: 100px;
        height: 100px;
        border-radius: 50%;
        animation: moon-animation 10s linear infinite;
        background-color: map-get($night-theme-colors, primary);
      }

      #chatHistory li {
        color: map-get($night-theme-colors, text);
        background-color: map-get($night-theme-colors, primary) !important;
      }

      #messageInput,
      button[type="submit"] {
        background-color: map-get($night-theme-colors, secondary);
        color: map-get($night-theme-colors, text);
      }
    }

    &:after {
      content: "";
      display: block;
      position: absolute;
      top: 50%;
      left: -100px;
      transform: translateY(-50%);
      width: 100px;
      height: 100px;
      background-color: map-get($day-theme-colors, secondary);
      border-radius: 50%;
      animation-name: sun-animation;
    }
  }
}

/* Keyframes */

@keyframes fadein {
  from { opacity :0 ;}
  to { opacity :1 ;}
}

@keyframes moon-animation {
  from {
    transform :translateX(-50%) rotate(0deg) ;
  }

  to {
    transform :translateX(-50%) rotate(360deg) ;
  }
}

@keyframes sun-animation {
  from {
    left: -100px;
    transform: translateY(-50%) rotate(180deg);
  }
  to {
    left: 110%;
    transform: translateY(-50%) rotate(360deg);
  }
}

/* Classes */

.animation-container {
  position: relative;
  height: 200px; /* change height to your desired height */
  width: 100%; /* add a fixed width */
}
.animation-container:after {
  content: "";
  position: absolute;
  top: 50%;
  left: -100px; /* adjust the position of the sun/moon */
  transform: translateY(-50%);
  width: 100px;
  height: 100px;
  background-color: yellow; /* add a background color */
  border-radius: 50%;
  animation-name: sun-animation;
}

.animation-container.night:after {
  background-color: map-get($night-theme-colors, secondary);
}

.animation-container.day:after {
  background-color: map-get($day-theme-colors, secondary);
}

@media (min-width: 768px) {

  /* Desktop Styles */

  #chatContainer {
    height: auto;
    max-width: 1024px;
    margin: 0 auto;
    box-shadow : 10px 10px 30px rgba(0,0,0,.1);
    border-radius :1rem ;
    overflow :hidden ;

    .animation-container {
      border-top-left-radius :1rem ;
      border-top-right-radius :1rem ;
      width :100% ;
      display:flex ;
      justify-content:center;
      align-items:center;

      &:before {
        content:'';
        position:absolute;
        top:-130%;
        left:-130%;
        width:260%;
        height:260%;
        background-image : radial-gradient($color-background 40%, transparent 60%);
        z-index :-1 ;
      }

      &:after {
        top:10%;
        left:-5%;

        animation-name:sun-animation-desktop ;

        @keyframes sun-animation-desktop {
          from { left :25%; }
          to { left :110% ;}
        }
      }
    }
  }
}